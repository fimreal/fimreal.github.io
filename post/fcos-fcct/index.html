<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>ä» CoreOS è¿ç§»åˆ° Fedora CoreOS ä¹‹ ç”¨ fcct åˆå§‹åŒ– fcos - é—²éš…</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="Fimreal"><meta name=description content="å®‰è£… Fedora CoreOS ç³»ç»Ÿéœ€è¦ç”¨åˆ° ignition é…ç½®ï¼Œåˆçœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œå…¶å®åšèµ·æ¥å¾ˆç®€å•ã€‚ç®€å•è®°å½•åˆ›å»º fcc é…ç½®æ–‡ä»¶ï¼Œå¹¶åœ¨ vmware å®‰è£… fcos ï¼Œè½¬åŒ– qcow2 é•œåƒçš„è¿‡ç¨‹ã€‚
"><meta name=keywords content="CoreOS,fedora,fcos"><meta name=generator content="Hugo 0.109.0 with theme even"><link rel=canonical href=https://www.epurs.com/post/fcos-fcct/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.520181dd342d9369197dd9e27d41b8f7108626419bf37348947efbbba4d9724c.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="ä» CoreOS è¿ç§»åˆ° Fedora CoreOS ä¹‹ ç”¨ fcct åˆå§‹åŒ– fcos"><meta property="og:description" content="å®‰è£… Fedora CoreOS ç³»ç»Ÿéœ€è¦ç”¨åˆ° ignition é…ç½®ï¼Œåˆçœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œå…¶å®åšèµ·æ¥å¾ˆç®€å•ã€‚ç®€å•è®°å½•åˆ›å»º fcc é…ç½®æ–‡ä»¶ï¼Œå¹¶åœ¨ vmware å®‰è£… fcos ï¼Œè½¬åŒ– qcow2 é•œåƒçš„è¿‡ç¨‹ã€‚"><meta property="og:type" content="article"><meta property="og:url" content="https://www.epurs.com/post/fcos-fcct/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-09-10T09:49:22+08:00"><meta property="article:modified_time" content="2021-11-19T14:30:15+08:00"><meta itemprop=name content="ä» CoreOS è¿ç§»åˆ° Fedora CoreOS ä¹‹ ç”¨ fcct åˆå§‹åŒ– fcos"><meta itemprop=description content="å®‰è£… Fedora CoreOS ç³»ç»Ÿéœ€è¦ç”¨åˆ° ignition é…ç½®ï¼Œåˆçœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œå…¶å®åšèµ·æ¥å¾ˆç®€å•ã€‚ç®€å•è®°å½•åˆ›å»º fcc é…ç½®æ–‡ä»¶ï¼Œå¹¶åœ¨ vmware å®‰è£… fcos ï¼Œè½¬åŒ– qcow2 é•œåƒçš„è¿‡ç¨‹ã€‚"><meta itemprop=datePublished content="2021-09-10T09:49:22+08:00"><meta itemprop=dateModified content="2021-11-19T14:30:15+08:00"><meta itemprop=wordCount content="1114"><meta itemprop=keywords content="CoreOS,fedora,fcos,"><meta name=twitter:card content="summary"><meta name=twitter:title content="ä» CoreOS è¿ç§»åˆ° Fedora CoreOS ä¹‹ ç”¨ fcct åˆå§‹åŒ– fcos"><meta name=twitter:description content="å®‰è£… Fedora CoreOS ç³»ç»Ÿéœ€è¦ç”¨åˆ° ignition é…ç½®ï¼Œåˆçœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œå…¶å®åšèµ·æ¥å¾ˆç®€å•ã€‚ç®€å•è®°å½•åˆ›å»º fcc é…ç½®æ–‡ä»¶ï¼Œå¹¶åœ¨ vmware å®‰è£… fcos ï¼Œè½¬åŒ– qcow2 é•œåƒçš„è¿‡ç¨‹ã€‚"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>é—²éš…</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>ä¸»é¡µ</li></a><a href=/post/><li class=mobile-menu-item>å½’æ¡£</li></a><a href=/tags/><li class=mobile-menu-item>æ ‡ç­¾</li></a><a href=/categories/><li class=mobile-menu-item>åˆ†ç±»</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>é—²éš…</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>ä¸»é¡µ</a></li><li class=menu-item><a class=menu-item-link href=/post/>å½’æ¡£</a></li><li class=menu-item><a class=menu-item-link href=/tags/>æ ‡ç­¾</a></li><li class=menu-item><a class=menu-item-link href=/categories/>åˆ†ç±»</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>ä» CoreOS è¿ç§»åˆ° Fedora CoreOS ä¹‹ ç”¨ fcct åˆå§‹åŒ– fcos</h1><div class=post-meta><span class=post-time>2021-09-10</span><div class=post-category><a href=/categories/coreos/>CoreOS</a>
<a href=/categories/fedora/>fedora</a>
<a href=/categories/fcos/>fcos</a></div><span class=more-meta>çº¦ 1114 å­—</span>
<span class=more-meta>é¢„è®¡é˜…è¯» 3 åˆ†é’Ÿ</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>æ–‡ç« ç›®å½•</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#0-ä»€ä¹ˆæ˜¯ç‚¹ç«é…ç½®-ignition-configurations>0. ä»€ä¹ˆæ˜¯ç‚¹ç«é…ç½® Ignition configurations</a></li><li><a href=#1-åˆ›å»ºä¸€ä¸ªç®€å•çš„ç‚¹ç«é…ç½®>1. åˆ›å»ºä¸€ä¸ªç®€å•çš„ç‚¹ç«é…ç½®</a></li><li><a href=#2-å°†ç‚¹ç«é…ç½®è½¬æ¢ä¸º-ign-é…ç½®æ–‡ä»¶>2. å°†ç‚¹ç«é…ç½®è½¬æ¢ä¸º .ign é…ç½®æ–‡ä»¶</a></li><li><a href=#3-å¼€å§‹å®‰è£…>3. å¼€å§‹å®‰è£…</a></li><li><a href=#4-æˆ‘çš„ç‚¹ç«é…ç½®æ–‡ä»¶>4. æˆ‘çš„ç‚¹ç«é…ç½®æ–‡ä»¶</a></li><li><a href=#5-è¡¥å……vmware-ç”Ÿæˆ-qcow2-é•œåƒ>5. è¡¥å……ï¼švmware ç”Ÿæˆ qcow2 é•œåƒ</a></li></ul></nav></div></div><div class=post-content><p>å®‰è£… Fedora CoreOS ç³»ç»Ÿéœ€è¦ç”¨åˆ° ignition é…ç½®ï¼Œåˆçœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œå…¶å®åšèµ·æ¥å¾ˆç®€å•ã€‚ç®€å•è®°å½•åˆ›å»º fcc é…ç½®æ–‡ä»¶ï¼Œå¹¶åœ¨ vmware å®‰è£… fcos ï¼Œè½¬åŒ– qcow2 é•œåƒçš„è¿‡ç¨‹ã€‚</p><h2 id=0-ä»€ä¹ˆæ˜¯ç‚¹ç«é…ç½®-ignition-configurations>0. ä»€ä¹ˆæ˜¯ç‚¹ç«é…ç½® Ignition configurations</h2><p>â€‹ Ignition configurations å¯ä»¥ç†è§£ä¸º cloud-init åŒç±»å‹çš„åˆå§‹åŒ–é…ç½®ï¼Œç”¨æˆ·å¯ä»¥æŒ‰ç…§æŒ‡å®šè¯­æ³•åˆ›å»º yaml æ–‡ä»¶ï¼Œä½¿ç”¨ <code>fcct</code>å‘½ä»¤è¡Œå·¥å…·ç”Ÿæˆæœ€ç»ˆå¯ç”¨çš„ JSON æ ¼å¼æ–‡ä»¶ï¼Œä¾› Fedora CoreOS å®‰è£…æ—¶è¯»å–ä»è€Œè¾¾æˆåˆå§‹åŒ–é…ç½®ã€‚</p><p>â€‹ ç”±äº Fedora CoreOS ä½¿ç”¨ ostree ç®¡ç†æ–‡ä»¶ç»“æ„ï¼Œæ ¹åˆ†åŒºç­‰é»˜è®¤ä¸ºåªè¯»æŒ‚è½½ï¼Œå¦‚æœéœ€è¦è‡ªå®šä¹‰ç›®å½•ç»“æ„ï¼ˆå…¶å®è¿˜æ˜¯é€šè¿‡è½¯é“¾æ¥åˆ° <code>/var/</code> å†…å®ç°ï¼‰ï¼Œå°±å¿…é¡»ç”¨åˆ°ç‚¹ç«æ–‡ä»¶æ¥é…ç½®ã€‚</p><p>å®˜æ–¹è¯´æ˜æ–‡æ¡£ï¼š</p><p><a href=https://docs.fedoraproject.org/en-US/fedora-coreos/producing-ign/>https://docs.fedoraproject.org/en-US/fedora-coreos/producing-ign/</a></p><h2 id=1-åˆ›å»ºä¸€ä¸ªç®€å•çš„ç‚¹ç«é…ç½®>1. åˆ›å»ºä¸€ä¸ªç®€å•çš„ç‚¹ç«é…ç½®</h2><p>æŒ‰ç…§å®˜æ–¹æ–‡æ¡£ä¸­æè¿°ï¼Œç®€å•çš„ç‚¹ç«é…ç½® demo ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>variant</span><span class=p>:</span><span class=w> </span><span class=l>fcos</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>1.4.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>passwd</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>users</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>core</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ssh_authorized_keys</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>ssh-rsa AAAA...</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>é»˜è®¤ fcos ä¸­å·²ç»å†…ç½®äº† core ç”¨æˆ·ï¼Œä¸Šé¢ yaml é…ç½®åœ¨å®‰è£…ç³»ç»Ÿæ—¶åŒæ—¶é…ç½®äº†å…¬é’¥ï¼Œå¯ä»¥æ®æ­¤æ·»åŠ è‡ªå®šä¹‰ç”¨æˆ·å’Œç›¸åº”å¯†é’¥ã€‚</p><p>ä¹ æƒ¯ä½¿ç”¨å¯†ç çš„å¯ä»¥å‚è€ƒä¸‹é¢å†™æ³•ï¼Œåˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼ŒåŠ å…¥ docker ç»„ï¼Œæ‹¥æœ‰ sudo æƒé™ï¼Œå¹¶æ·»åŠ å¯†ç ç™»é™†æ–¹å¼ã€‚</p><p>å…¶ä¸­å¯†ç åŠ å¯†æ–¹å¼ä½¿ç”¨å‘½ä»¤ï¼š <code>mkpasswd --method=yescrypt</code>ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>variant</span><span class=p>:</span><span class=w> </span><span class=l>fcos</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>1.1.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>passwd</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>users</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>xiaoming</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>docker</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>sudo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>password_hash</span><span class=p>:</span><span class=w> </span><span class=l>$y$j9T$avmZo2f7txYwPs3H02yTk/$3sXp/LMxj7.lTTGadKyu5qb8PJzdXhM44zYQIr3AyV4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>home_dir</span><span class=p>:</span><span class=w> </span><span class=l>/home/xiaoming</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>shell</span><span class=p>:</span><span class=w> </span><span class=l>/bin/bash</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>storage</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>files</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/etc/ssh/sshd_config.d/99-AllowPasswordLogin.conf</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=m>0644</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>contents</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>inline</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          </span><span class=w>          </span><span class=l>PasswordAuthentication yes</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=2-å°†ç‚¹ç«é…ç½®è½¬æ¢ä¸º-ign-é…ç½®æ–‡ä»¶>2. å°†ç‚¹ç«é…ç½®è½¬æ¢ä¸º .ign é…ç½®æ–‡ä»¶</h2><p>ä¸Šé¢åˆ›å»ºçš„ yaml æ–‡ä»¶æ²¡æ³•ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦ç”¨ butane å·¥å…·ç”Ÿæˆ JSON æ ¼å¼ .ign æ–‡ä»¶ã€‚</p><p>fcct [ butane ] å¾ˆå¤šå‘è¡Œç‰ˆä»“åº“ä¸­æ²¡æœ‰é¢„è£…ï¼Œå®‰è£…å¯ä»¥å‚è€ƒï¼š</p><p><a href=https://docs.fedoraproject.org/en-US/fedora-coreos/producing-ign/>https://docs.fedoraproject.org/en-US/fedora-coreos/producing-ign/</a></p><p>æˆ–è€…ç›´æ¥ä½¿ç”¨å®˜æ–¹ç»™çš„å®¹å™¨é•œåƒæ¥å¸®åŠ©ç”Ÿæˆï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>podman run -i --rm quay.io/coreos/butane:release <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>       --pretty --strict &lt; your_config.yaml &gt; transpiled_config.ign
</span></span></code></pre></td></tr></table></div></div><p>è¿™é‡Œç»™å‡ºä¸€ä¸ªç½‘é¡µåœ¨çº¿è½¬æ¢å·¥å…·ï¼š</p><p><a href=https://fcct.epurs.com/>https://fcct.epurs.com/</a></p><p>å·¦ä¾§è¾“å…¥ yaml æ–‡ä»¶ï¼Œç‚¹å‡» Transpile å³å¯ç”Ÿæˆ json æ ¼å¼æ–‡ä»¶ã€‚å†ç‚¹å‡» Generate URL From FCC å³å¯ç”Ÿæˆ ign æ–‡ä»¶çš„ urlï¼Œå¯ä»¥ç›´æ¥ç”¨äºç³»ç»Ÿå®‰è£…ã€‚</p><h2 id=3-å¼€å§‹å®‰è£…>3. å¼€å§‹å®‰è£…</h2><p>å®‰è£…å¯ä»¥ä½¿ç”¨<code>coreos-installer</code> åœ¨çº¿ä¸‹è½½é•œåƒï¼Œè€ƒè™‘åˆ°å›½å†…ç½‘ç»œå› ç´ ï¼Œæ¨èä¸‹è½½ç¦»çº¿é•œåƒã€‚</p><p>è¿™é‡Œä½¿ç”¨ Vmware é€šè¿‡ ISO æ–¹å¼å®‰è£…ï¼Œè£¸æœºå®‰è£…å¤§åŒå°å¼‚ã€‚</p><p>ISO æ–‡ä»¶ä¸‹è½½åœ°å€ï¼š</p><p><a href="https://getfedora.org/en/coreos/download?tab=metal_virtualized&stream=stable&arch=x86_64">https://getfedora.org/en/coreos/download?tab=metal_virtualized&stream=stable&arch=x86_64</a></p><p><a href=https://builds.coreos.fedoraproject.org/prod/streams/stable/builds/34.20210919.3.0/x86_64/fedora-coreos-34.20210919.3.0-live.x86_64.iso>https://builds.coreos.fedoraproject.org/prod/streams/stable/builds/34.20210919.3.0/x86_64/fedora-coreos-34.20210919.3.0-live.x86_64.iso</a></p><p>è™šæ‹Ÿæœºå¯åŠ¨åè¿›å…¥ LiveCD æ¨¡å¼ï¼ŒæˆåŠŸåŠ è½½ç™»é™†åä¼šç»™å‡ºå®‰è£…å‘½ä»¤æç¤ºã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo coreos-installer install /dev/sda <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --ignition-url https://example.com/example.ign
</span></span></code></pre></td></tr></table></div></div><p><code>lsblk</code> å…ˆç¡®è®¤éœ€è¦å®‰è£…çš„ç£ç›˜åˆ†åŒºï¼Œæ•°æ®æ— ä»·ã€‚</p><p>ç¡®è®¤æ— è¯¯åï¼Œç”¨è‡ªå·±çš„ ign åœ°å€å®‰è£…ç³»ç»Ÿï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo coreos-installer install /dev/sda --ignition-url https://raw.githubusercontent.com/fimreal/fcc/main/fcc.ign
</span></span></code></pre></td></tr></table></div></div><p>åé¢ä¸éœ€è¦å†äººå·¥å¹²é¢„ï¼Œå®‰è£…åä¼šæç¤ºé‡å¯ç³»ç»Ÿã€‚</p><h2 id=4-æˆ‘çš„ç‚¹ç«é…ç½®æ–‡ä»¶>4. æˆ‘çš„ç‚¹ç«é…ç½®æ–‡ä»¶</h2><p><a href=https://github.com/fimreal/fcc/blob/main/ignition.yaml>https://github.com/fimreal/fcc/blob/main/ignition.yaml</a></p><p>é…ç½®ä¿®æ”¹å’Œå¢åŠ å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ä¸­ System Configuration éƒ¨åˆ†ï¼š</p><p><a href=https://docs.fedoraproject.org/en-US/fedora-coreos/>https://docs.fedoraproject.org/en-US/fedora-coreos/</a></p><h2 id=5-è¡¥å……vmware-ç”Ÿæˆ-qcow2-é•œåƒ>5. è¡¥å……ï¼švmware ç”Ÿæˆ qcow2 é•œåƒ</h2><p>å®‰è£…ä¸ç®—éº»çƒ¦ï¼Œåç»­æƒ³è¦å°†é•œåƒå¯¼å…¥åˆ°äº‘æœåŠ¡å™¨è¿˜éœ€è¦äº›è®¸åŠªåŠ›ã€‚</p><p>é¦–å…ˆå…è´¹ç‰ˆæœ¬çš„ VMware Fusion ä¸æ”¯æŒå¯¼å‡ºé•œåƒï¼Œéœ€è¦åœ¨ç½‘ä¸Šæ‰¾ä¸ªåºåˆ—å·å‡çº§åˆ°ä¸“ä¸šç‰ˆæœ¬è§£é”é¢å¤–åŠŸèƒ½ã€‚<del>å¤ªå‘äº†ï¼</del></p><p>å‰é¢å®‰è£…çš„ CoreOS é»˜è®¤å°±æ˜¯ DHCP é…ç½®ç½‘ç»œï¼Œä¸ç”¨å®‰è£… cloud-init ç­‰å·¥å…·å°±å¯ä»¥åœ¨äº‘å¹³å°è·‘èµ·æ¥ï¼Œç¼ºå°‘çš„æ§åˆ¶å°é‡ç½®å¯†ç åŠŸèƒ½éº»çƒ¦ç‚¹ä¹Ÿèƒ½è‡ªå·±æ”¹ï¼Œæ‰€ä»¥ä¸éœ€è¦å†åšé¢å¤–é…ç½®ã€‚</p><p>å°†è£…å¥½çš„è™šæ‹Ÿæœºå¯¼å‡ºä¸º OVF æ ¼å¼ï¼Œå¯¼å‡ºé€Ÿåº¦å¾ˆå¿«ï¼ŒOVF å…¶å®å°±æ˜¯é…ç½®æ–‡ä»¶ï¼Œå…³é”®æ˜¯è¦å•ç‹¬æ‰“åŒ…å‡ºæ¥çš„ vmdk ç£ç›˜é•œåƒæ–‡ä»¶ã€‚</p><p>è·å–åˆ° vmdk æ–‡ä»¶åï¼Œä½¿ç”¨ <code>qemu-img</code> è½¬æ¢æ ¼å¼ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>qemu-img convert -f vmdk -O qcow2 Fedora-disk1.vmdk Fedora-disk1.qcow2
</span></span></code></pre></td></tr></table></div></div><p>è½¬æ¢å®Œæˆå¯ä»¥æŸ¥çœ‹é•œåƒå®é™…å¤§å°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>qemu-img info Fedora-disk1.qcow2
</span></span></code></pre></td></tr></table></div></div><p>åç»­æ ¹æ®äº‘å‚å•†è¯´æ˜æ–‡æ¡£å¯¼å…¥è¿›å»ï¼Œå¼€æœº ssh å³å¯ã€‚</p></div><footer class=post-footer><div class=post-tags><a href=/tags/coreos/>CoreOS</a>
<a href=/tags/fedora/>fedora</a>
<a href=/tags/fcos/>fcos</a></div><nav class=post-nav><a class=prev href=/post/traefik2-ingress-useing-basicauth/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">Traefik2 Ingress ä½¿ç”¨ Basicauth</span>
<span class="prev-text nav-mobile">ä¸Šä¸€ç¯‡</span></a>
<a class=next href=/post/docker-to-podman/><span class="next-text nav-default">ä» CoreOS è¿ç§»åˆ° Fedora CoreOS ä¹‹ ç”¨ Podman ä»£æ›¿ Docker</span>
<span class="next-text nav-mobile">ä¸‹ä¸€ç¯‡</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div><div id=vcomments></div><script src=//cdn1.lncld.net/static/js/3.0.4/av-min.js></script>
<script src=//unpkg.com/valine/dist/Valine.min.js></script>
<script type=text/javascript>new Valine({el:"#vcomments",appId:"GbB0g7iuHvLyDClFmsBwewUS-gzGzoHsz",appKey:"cq9Rl1lkMWGfkEoq93b6t3bJ",notify:!0,verify:!0,avatar:"mp",placeholder:"Say something...",visitor:!1})</script></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:&amp;#108;&amp;#109;&amp;#114;&amp;#64;&amp;#101;&amp;#112;&amp;#117;&amp;#114;&amp;#115;&amp;#46;&amp;#99;&amp;#111;&amp;#109; class="iconfont icon-email" title=email></a>
<a href=https://www.epurs.com/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>ç”± <a class=hexo-link href=https://gohugo.io>Hugo</a> å¼ºåŠ›é©±åŠ¨</span>
<span class=division>|</span>
<span class=theme-info>ä¸»é¢˜ -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2018 -
2022<span class=heart><i class="iconfont icon-heart"></i></span><span>Fimreal</span>
<a class=theme-link href=http://beian.miit.gov.cn>äº¬ICPå¤‡18059304å·-1</a>
<a href=https://webify.cloudbase.net/>ğŸš€ Powered by CloudBase Webify</a></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-138489412-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<script id=baidu_push>(function(){if(window.location.hostname==="localhost")return;var t,n,e=document.createElement("script");e.async=!0,n=window.location.protocol.split(":")[0],n==="https"?e.src="https://zz.bdstatic.com/linksubmit/push.js":e.src="http://push.zhanzhang.baidu.com/push.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script></body></html>