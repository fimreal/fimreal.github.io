<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Kubernetes on 闲隅</title><link>https://www.epurs.com/tags/kubernetes/</link><description>Recent content in Kubernetes on 闲隅</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Wed, 03 Nov 2021 15:46:49 +0800</lastBuildDate><atom:link href="https://www.epurs.com/tags/kubernetes/index.xml" rel="self" type="application/rss+xml"/><item><title>使用 Kubernettes-Replicator 在不同命名空间同步 secret</title><link>https://www.epurs.com/post/kubernettes-replicator/</link><pubDate>Wed, 03 Nov 2021 15:46:49 +0800</pubDate><guid>https://www.epurs.com/post/kubernettes-replicator/</guid><description>&lt;p>kubernetes 最佳实践会教我们创建很多命名空间（namespace）来做服务隔离，但同时服务对应的 configmap 和 secret 也会因为命名空间被分割开。当我们需要对多个命名空间实则相同的对象，执行更新的配置时，同步配置着实有些麻烦。本文通过引入 kubernetes-replicator 来解决这个麻烦的问题。&lt;/p></description></item><item><title>改进 lego 自动更新证书到 secret</title><link>https://www.epurs.com/post/update-cert-to-secret/</link><pubDate>Mon, 18 Oct 2021 18:27:26 +0800</pubDate><guid>https://www.epurs.com/post/update-cert-to-secret/</guid><description>&lt;p>配置自动更新域名证书，同时更新到指定的 K8s 的 secret 中。&lt;/p></description></item><item><title>通过创建 svc，在 k8s 内优雅的访问集群外部服务</title><link>https://www.epurs.com/post/external-service-in-k8s/</link><pubDate>Fri, 15 Oct 2021 09:49:26 +0800</pubDate><guid>https://www.epurs.com/post/external-service-in-k8s/</guid><description/></item><item><title>Traefik2 Ingress 使用 Basicauth</title><link>https://www.epurs.com/post/traefik2-ingress-useing-basicauth/</link><pubDate>Thu, 14 Oct 2021 18:15:28 +0800</pubDate><guid>https://www.epurs.com/post/traefik2-ingress-useing-basicauth/</guid><description>&lt;p>网上搜不到资料，反复尝试才确认 Traefik 2.x 版本做 ingress 配置 basic authorization 的正确方式。&lt;/p></description></item><item><title>Kubernetes 上部署 rabbitmq statefulset集群</title><link>https://www.epurs.com/post/deploy_rabbitmq_on_kubernetes/</link><pubDate>Fri, 15 May 2020 13:43:30 +0800</pubDate><guid>https://www.epurs.com/post/deploy_rabbitmq_on_kubernetes/</guid><description>&lt;p>使用 RabbitMQ 3.7.0 开始内置的 &lt;code>rabbitmq_peer_discovery_k8s&lt;/code> 插件来实现各实例自动发现，最终用 StatefulSet 部署集群。&lt;/p></description></item><item><title>Kubernetes 上部署维护 ProxySQL StatefulSet 集群笔记</title><link>https://www.epurs.com/post/deploy_proxysql_on_kubernetes/</link><pubDate>Thu, 14 May 2020 16:27:36 +0800</pubDate><guid>https://www.epurs.com/post/deploy_proxysql_on_kubernetes/</guid><description>&lt;p>一些在 k8s 上部署 Proxysql 集群时的的配置记录，
一些在使用 ProxySQL 时遇到的问题，及解决办法。&lt;/p></description></item><item><title>在 Kubernetes 上挂载使用腾讯云对象存储 COS 的一种配置方法</title><link>https://www.epurs.com/post/cosfs-on-kubernetes/</link><pubDate>Sun, 29 Sep 2019 10:05:00 +0000</pubDate><guid>https://www.epurs.com/post/cosfs-on-kubernetes/</guid><description>&lt;p>目前 Kubernetes 自身网络卷挂载尚不支持共有云提供的对象存储产品，但是可以通过 Kubernetes 自身所拥有的功能利用一些小技巧将对象存储挂载到集群内实现共享读写的目的。&lt;/p>
&lt;p>通过搜索，我们可以知道阿里云给自己的 Kubernetes 平台做了挂载 OSS 的插件，最佳实践可以参考&lt;a href="https://yq.aliyun.com/articles/640212">K8S有状态服务-OSS存储使用最佳实践&lt;/a>，理论上使用阿里云 OSS 产品都可以自行&lt;a href="https://help.aliyun.com/document_detail/86785.html?spm=a2c4g.11186623.2.10.46bb7db2T54nWw#concept-wrq-dvs-vdb">安装插件&lt;/a>来使用，使用阿里云产品的可以优先参考文档说明，或者提交工单寻求帮助。文中所举例使用的是腾讯云的 COS，用法则是参考 AWS 博客写的 k8s 挂载 S3 说明 &lt;a href="https://amazonaws-china.com/cn/blogs/china/use-u3fs-as-shared-storage-to-kubernetes-pod/">Kubernetes pods used shared S3 storage&lt;/a> 。&lt;/p></description></item></channel></rss>